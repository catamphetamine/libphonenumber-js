{"version":3,"sources":["../source/validate.js"],"names":["parse","is_viable_phone_number","get_number_type","sort_out_arguments","isValidNumber","arg_1","arg_2","arg_3","input","metadata","country","hasCountry","Error","hasTypes","undefined"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,sBAAhB,QAA8C,SAA9C;AACA,OAAOC,eAAP,IAA0BC,kBAA1B,QAAoD,iBAApD;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA,eAAe,SAASC,aAAT,CAAuBC,KAAvB,EAA8BC,KAA9B,EAAqCC,KAArC,EACf;AAAA,4BAC6BJ,mBAAmBE,KAAnB,EAA0BC,KAA1B,EAAiCC,KAAjC,CAD7B;AAAA,MACSC,KADT,uBACSA,KADT;AAAA,MACgBC,QADhB,uBACgBA,QADhB;;AAGC,MAAI,CAACD,KAAL,EACA;AACC,WAAO,KAAP;AACA;;AAED,MAAI,CAACA,MAAME,OAAX,EACA;AACC,WAAO,KAAP;AACA;;AAED,MAAI,CAACD,SAASE,UAAT,CAAoBH,MAAME,OAA1B,CAAL,EACA;AACC,UAAM,IAAIE,KAAJ,uBAA8BJ,MAAME,OAApC,CAAN;AACA;;AAEDD,WAASC,OAAT,CAAiBF,MAAME,OAAvB;;AAEA,MAAID,SAASI,QAAT,EAAJ,EACA;AACC,WAAOX,gBAAgBM,KAAhB,EAAuBC,SAASA,QAAhC,MAA8CK,SAArD;AACA;;AAED,SAAO,IAAP;AACA","file":"validate.js","sourcesContent":["import parse, { is_viable_phone_number } from './parse'\nimport get_number_type, { sort_out_arguments } from './getNumberType'\n\n/**\n * Checks if a given phone number is valid.\n *\n * If the `number` is a string, it will be parsed to an object,\n * but only if it contains only valid phone number characters (including punctuation).\n * If the `number` is an object, it is used as is.\n *\n * The optional `defaultCountry` argument is the default country.\n * I.e. it does not restrict to just that country,\n * e.g. in those cases where several countries share\n * the same phone numbering rules (NANPA, Britain, etc).\n * For example, even though the number `07624 369230`\n * belongs to the Isle of Man (\"IM\" country code)\n * calling `isValidNumber('07624369230', 'GB', metadata)`\n * still returns `true` because the country is not restricted to `GB`,\n * it's just that `GB` is the default one for the phone numbering rules.\n * For restricting the country see `isValidNumberForRegion()`\n * though restricting a country might not be a good idea.\n * https://github.com/googlei18n/libphonenumber/blob/master/FAQ.md#when-should-i-use-isvalidnumberforregion\n *\n * Examples:\n *\n * ```js\n * isValidNumber('+78005553535', metadata)\n * isValidNumber('8005553535', 'RU', metadata)\n * isValidNumber('88005553535', 'RU', metadata)\n * isValidNumber({ phone: '8005553535', country: 'RU' }, metadata)\n * ```\n */\nexport default function isValidNumber(arg_1, arg_2, arg_3)\n{\n\tconst { input, metadata } = sort_out_arguments(arg_1, arg_2, arg_3)\n\n\tif (!input)\n\t{\n\t\treturn false\n\t}\n\n\tif (!input.country)\n\t{\n\t\treturn false\n\t}\n\n\tif (!metadata.hasCountry(input.country))\n\t{\n\t\tthrow new Error(`Unknown country: ${input.country}`)\n\t}\n\n\tmetadata.country(input.country)\n\n\tif (metadata.hasTypes())\n\t{\n\t\treturn get_number_type(input, metadata.metadata) !== undefined\n\t}\n\n\treturn true\n}"]}