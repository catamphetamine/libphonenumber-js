!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("react"),require("prop-types")):"function"==typeof define&&define.amd?define(["react","prop-types"],t):(e=e||self).InputFormat=t(e.React,e.PropTypes)}(this,(function(e,t){"use strict";var n="default"in e?e.default:e;function r(e,t){var n=0,r=t.split(""),a=Array.isArray(r),o=0;for(r=a?r:r[Symbol.iterator]();;){var i;if(a){if(o>=r.length)break;i=r[o++]}else{if((o=r.next()).done)break;i=o.value}i===e&&n++}return n}function a(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:" ",o=e.length,i=r("(",e),u=r(")",e),l=i-u;l>0&&o<t.length;)e+=t[o].replace(n,a),")"===t[o]&&l--,o++;return e}function o(e,t,n){"string"==typeof n&&(n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x",n=arguments.length>2?arguments[2]:void 0;if(!e)return function(e){return{text:e}};var o=r(t,e);return function(r){if(!r)return{text:"",template:e};var i=0,u="",l=e.split(""),c=Array.isArray(l),f=0;for(l=c?l:l[Symbol.iterator]();;){var s;if(c){if(f>=l.length)break;s=l[f++]}else{if((f=l.next()).done)break;s=f.value}var v=s;if(v===t){if(u+=r[i],++i===r.length&&r.length<o)break}else u+=v}return n&&(u=a(u,e)),{text:u,template:e}}}(n));var o=n(e)||{},i=o.text,u=o.template;if(void 0===i&&(i=e),u)if(void 0===t)t=i.length;else{for(var l=0,c=!1,f=-1;l<i.length&&l<u.length;){if(i[l]!==u[l]){if(0===t){c=!0,t=l;break}f=l,t--}l++}c||(t=f+1)}return{text:i,caret:t}}function i(e){if(e.selectionStart!==e.selectionEnd)return{start:e.selectionStart,end:e.selectionEnd}}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;var u=8,l=46;function c(e,t){void 0!==t&&(!function(){if("undefined"!=typeof navigator)return f.test(navigator.userAgent)}()?e.setSelectionRange(t,t):setTimeout((function(){return e.setSelectionRange(t,t)}),0))}var f=/Android/i;function s(e,t,n,r,a){var o=function(e){switch(e.keyCode){case u:return"Backspace";case l:return"Delete"}}(e);switch(o){case"Delete":case"Backspace":e.preventDefault();var c=i(t);return c?(v(t,c),p(t,n,r,void 0,a)):p(t,n,r,o,a)}}function v(e,t){var n=e.value;n=n.slice(0,t.start)+n.slice(t.end),e.value=n,c(e,t.start)}function p(e,t,n,r,a){var i=function(e,t,n){for(var r="",a=0,o=0;o<e.length;){var i=n(e[o],r);void 0!==i&&(r+=i,void 0!==t&&(t===o?a=r.length-1:t>o&&(a=r.length))),o++}return void 0===t&&(a=r.length),{value:r,caret:a}}(e.value,e.selectionStart,t),u=i.value,l=i.caret;if(r){var f=function(e,t,n){switch(n){case"Backspace":t>0&&(e=e.slice(0,t-1)+e.slice(t),t--);break;case"Delete":e=e.slice(0,t)+e.slice(t+1)}return{value:e,caret:t}}(u,l,r);u=f.value,l=f.caret}var s=o(u,l,n),v=s.text;l=s.caret,e.value=v,c(e,l),a(u)}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function y(t,r){var a=t.value,o=t.parse,u=t.format,l=t.inputComponent,c=t.onChange,f=t.onCut,y=t.onPaste,b=t.onKeyDown,m=g(t,["value","parse","format","inputComponent","onChange","onCut","onPaste","onKeyDown"]),C=e.useRef();r=r||C;var k=e.useCallback((function(e){p(r.current,o,u,void 0,c)}),[r,o,u,c]),x=e.useCallback((function(e){return y&&y(e),t=r.current,n=o,a=u,l=c,(f=i(t))&&v(t,f),void p(t,n,a,void 0,l);var t,n,a,l,f}),[r,o,u,c,y]),O=e.useCallback((function(e){return f&&f(e),t=r.current,n=o,a=u,i=c,void setTimeout((function(){return p(t,n,a,void 0,i)}),0);var t,n,a,i}),[r,o,u,c,f]),w=e.useCallback((function(e){return b&&b(e),s(e,r.current,o,u,c)}),[r,o,u,c,b]);return n.createElement(l,d({},m,{ref:r,value:u(h(a)?"":a).text,onKeyDown:w,onChange:k,onPaste:x,onCut:O}))}function h(e){return null==e}return(y=n.forwardRef(y)).propTypes={parse:t.func.isRequired,format:t.func.isRequired,inputComponent:t.elementType.isRequired,type:t.string.isRequired,value:t.string,onChange:t.func.isRequired,onKeyDown:t.func,onCut:t.func,onPaste:t.func},y.defaultProps={inputComponent:"input",type:"text"},y}));
//# sourceMappingURL=input-format-react.min.js.map
