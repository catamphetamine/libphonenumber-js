!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).InputFormat={})}(this,(function(e){"use strict";function t(e,t){var n=0,r=t.split(""),i=Array.isArray(r),a=0;for(r=i?r:r[Symbol.iterator]();;){var o;if(i){if(a>=r.length)break;o=r[a++]}else{if((a=r.next()).done)break;o=a.value}o===e&&n++}return n}function n(e,n){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:" ",a=e.length,o=t("(",e),u=t(")",e),c=o-u;c>0&&a<n.length;)e+=n[a].replace(r,i),")"===n[a]&&c--,a++;return e}function r(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x",i=arguments.length>2?arguments[2]:void 0;if(!e)return function(e){return{text:e}};var a=t(r,e);return function(t){if(!t)return{text:"",template:e};var o=0,u="",c=e.split(""),f=Array.isArray(c),l=0;for(c=f?c:c[Symbol.iterator]();;){var s;if(f){if(l>=c.length)break;s=c[l++]}else{if((l=c.next()).done)break;s=l.value}var v=s;if(v===r){if(u+=t[o],++o===t.length&&t.length<a)break}else u+=v}return i&&(u=n(u,e)),{text:u,template:e}}}var i={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","０":"0","１":"1","２":"2","３":"3","４":"4","５":"5","６":"6","７":"7","８":"8","９":"9","٠":"0","١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","۰":"0","۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9"};function a(e,t,n){for(var r="",i=0,a=0;a<e.length;){var o=n(e[a],r);void 0!==o&&(r+=o,void 0!==t&&(t===a?i=r.length-1:t>a&&(i=r.length))),a++}return void 0===t&&(i=r.length),{value:r,caret:i}}function o(e,t,n){"string"==typeof n&&(n=r(n));var i=n(e)||{},a=i.text,o=i.template;if(void 0===a&&(a=e),o)if(void 0===t)t=a.length;else{for(var u=0,c=!1,f=-1;u<a.length&&u<o.length;){if(a[u]!==o[u]){if(0===t){c=!0,t=u;break}f=u,t--}u++}c||(t=f+1)}return{text:a,caret:t}}function u(e){if(e.selectionStart!==e.selectionEnd)return{start:e.selectionStart,end:e.selectionEnd}}var c=8,f=46;function l(e,t){void 0!==t&&(!function(){if("undefined"!=typeof navigator)return s.test(navigator.userAgent)}()?e.setSelectionRange(t,t):setTimeout((function(){return e.setSelectionRange(t,t)}),0))}var s=/Android/i;function v(e,t){var n=e.value;n=n.slice(0,t.start)+n.slice(t.end),e.value=n,l(e,t.start)}function d(e,t,n,r,i){var u=a(e.value,e.selectionStart,t),c=u.value,f=u.caret;if(r){var s=function(e,t,n){switch(n){case"Backspace":t>0&&(e=e.slice(0,t-1)+e.slice(t),t--);break;case"Delete":e=e.slice(0,t)+e.slice(t+1)}return{value:e,caret:t}}(c,f,r);c=s.value,f=s.caret}var v=o(c,f,n),d=v.text;f=v.caret,e.value=d,l(e,f),i(c)}e.format=o,e.onChange=function(e,t,n,r,i){d(t,n,r,void 0,i)},e.onCut=function(e,t,n,r,i){setTimeout((function(){return d(t,n,r,void 0,i)}),0)},e.onKeyDown=function(e,t,n,r,i){var a=function(e){switch(e.keyCode){case c:return"Backspace";case f:return"Delete"}}(e);switch(a){case"Delete":case"Backspace":e.preventDefault();var o=u(t);return o?(v(t,o),d(t,n,r,void 0,i)):d(t,n,r,a,i)}},e.onPaste=function(e,t,n,r,i){var a=u(t);a&&v(t,a),d(t,n,r,void 0,i)},e.parse=a,e.parseDigit=function(e,t){return i[e]},e.templateFormatter=r,e.templateParser=function(e,n,r){"function"==typeof n&&(r=n,n="x");var i=t(n,e);return function(e,t){if(t.length<i)return r(e,t)}},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=input-format.min.js.map
